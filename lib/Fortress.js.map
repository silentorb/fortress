{"version":3,"file":"Fortress.js","sourceRoot":"","sources":["Fortress.ts"],"names":["Fortress","Fortress.constructor","Fortress.add_gate","Fortress.get_roles","Fortress.user_has_role","","Fortress.grow","Fortress.query_access","Fortress.atomic_access","","","Fortress.update_access","","","Fortress","Fortress.Gate","Fortress.Gate.constructor","Fortress.Gate.check","Fortress.Admin","Fortress.Admin.constructor","Fortress.Admin.check","Fortress.User_Content","Fortress.User_Content.constructor","Fortress.User_Content.check_rows_ownership","Fortress.User_Content.check","","","","Fortress.User_Content.limited_to_user",""],"mappings":"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"}